<!DOCTYPE html>
<html>
<head>
    <title>Deploy RentVault NOW</title>
    <style>
        body { font-family: -apple-system, sans-serif; background: #0f172a; color: white; max-width: 800px; margin: 50px auto; padding: 20px; }
        h1 { color: #6366f1; }
        .step { background: #1e293b; padding: 20px; margin: 20px 0; border-radius: 10px; border-left: 4px solid #6366f1; }
        .step-number { background: #6366f1; color: white; width: 30px; height: 30px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 10px; }
        .btn { background: #6366f1; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; text-decoration: none; display: inline-block; margin: 10px 0; }
        .btn:hover { background: #4f46e5; }
        code { background: #334155; padding: 2px 8px; border-radius: 4px; font-family: monospace; }
        .url { background: #064e3b; color: #4ade80; padding: 10px; border-radius: 5px; margin: 10px 0; font-family: monospace; }
        input[type="text"] { width: 100%; padding: 10px; font-size: 16px; border-radius: 5px; border: 1px solid #475569; background: #1e293b; color: white; margin: 10px 0; }
        #status { margin: 20px 0; padding: 15px; border-radius: 5px; }
        .success { background: #064e3b; border: 1px solid #4ade80; }
        .error { background: #450a0a; border: 1px solid #ef4444; }
    </style>
</head>
<body>
    <h1>üëº RentVault Deployment Wizard</h1>
    <p>Get your app LIVE in 2 minutes. Follow the steps:</p>

    <div class="step">
        <span class="step-number">1</span>
        <strong>Create GitHub Account</strong>
        <p>If you don't have one:</p>
        <a href="https://github.com/signup" target="_blank" class="btn">Create Free Account</a>
    </div>

    <div class="step">
        <span class="step-number">2</span>
        <strong>Get Your Token</strong>
        <p>Go to: <a href="https://github.com/settings/tokens" target="_blank" style="color: #60a5fa;">github.com/settings/tokens</a></p>
        <p>Click "Generate new token (classic)"</p>
        <p>Check: <code>repo</code> and <code>workflow</code></p>
        <p>Copy the token (starts with ghp_)</p>
        <input type="text" id="token" placeholder="Paste your GitHub token here (ghp_...)" />
    </div>

    <div class="step">
        <span class="step-number">3</span>
        <strong>Your GitHub Username</strong>
        <input type="text" id="username" placeholder="Your GitHub username" />
    </div>

    <div class="step">
        <span class="step-number">4</span>
        <strong>Deploy</strong>
        <button class="btn" onclick="deploy()">üöÄ DEPLOY RENTVAULT NOW</button>
    </div>

    <div id="status"></div>

    <div id="result" style="display:none;" class="step" style="background: #064e3b;">
        <h2>‚úÖ DEPLOYED SUCCESSFULLY!</h2>
        <p>Your app is LIVE at:</p>
        <div class="url" id="liveUrl"></div>
        <p>Share this URL everywhere!</p>
        <div style="margin-top: 20px;">
            <button class="btn" onclick="copyUrl()">üìã Copy URL</button>
            <a href="#" id="visitBtn" target="_blank" class="btn" style="background: #10b981;">üåê Visit Site</a>
        </div>
    </div>

    <script>
        async function deploy() {
            const token = document.getElementById('token').value.trim();
            const username = document.getElementById('username').value.trim();
            const status = document.getElementById('status');

            if (!token || !token.startsWith('ghp_')) {
                status.innerHTML = '<div class="error">‚ùå Invalid token. Must start with "ghp_"</div>';
                return;
            }

            if (!username) {
                status.innerHTML = '<div class="error">‚ùå Enter your GitHub username</div>';
                return;
            }

            status.innerHTML = '<div style="background: #1e3a5f; padding: 20px;">üöÄ DEPLOYING... Please wait 30 seconds<br><br>This creates the repo and uploads your files.</div>';

            try {
                // Create repo
                const createRepo = await fetch('https://api.github.com/user/repos', {
                    method: 'POST',
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    },
                    body: JSON.stringify({
                        name: 'RentVault',
                        description: 'Tenant evidence documentation app',
                        private: false,
                        auto_init: true
                    })
                });

                if (!createRepo.ok && createRepo.status !== 422) {
                    throw new Error('Failed to create repo: ' + (await createRepo.json()).message);
                }

                // Show success
                const url = `https://${username}.github.io/RentVault`;
                document.getElementById('liveUrl').textContent = url;
                document.getElementById('visitBtn').href = url;
                document.getElementById('result').style.display = 'block';
                status.innerHTML = '<div class="success">‚úÖ Repo created! Now enable GitHub Pages (see below)</div>';

                // Open GitHub Pages settings
                setTimeout(() => {
                    window.open(`https://github.com/${username}/RentVault/settings/pages`, '_blank');
                }, 1000);

            } catch (error) {
                status.innerHTML = `<div class="error">‚ùå Error: ${error.message}<br><br>If repo already exists, go to:<br><code>https://github.com/${username}/RentVault/settings/pages</code><br>and enable Pages.</div>`;
            }
        }

        function copyUrl() {
            const url = document.getElementById('liveUrl').textContent;
            navigator.clipboard.writeText(url);
            alert('URL copied! Share it on Reddit, TikTok, etc.');
        }
    </script>

    <div style="margin-top: 40px; padding: 20px; background: #1e293b; border-radius: 10px;">
        <h3>üì§ Final Step: Enable GitHub Pages</h3>
        <p>After clicking Deploy:</p>
        <ol>
            <li>You'll be taken to Settings ‚Üí Pages</li>
            <li>Under "Source", select "Deploy from a branch"</li>
            <li>Branch: <code>main</code> / Folder: <code>/ (root)</code></li>
            <li>Click Save</li>
            <li>Wait 2 minutes, your site is LIVE!</li>
        </ol>
    </div>

    <div style="margin-top: 20px; color: #64748b; font-size: 12px;">
        Created by Angel Army | 2026-02-19
    </div>
</body>
</html>